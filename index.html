<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Menu Miray Sushi</title>
  <style>
    body {
      background: #000;
      color: #fff;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      text-align: center;
    }
    h2 {
      background: red;
      padding: 10px;
      margin: 0;
      border-radius: 5px;
    }
    .menu {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin: 20px 0;
    }
    .card {
      background: #111;
      border: 1px solid red;
      border-radius: 10px;
      box-shadow: 0 0 10px red;
      width: 250px;
      margin: 10px;
      padding: 15px;
    }
    .card img {
      width: 120px;
      height: 120px;
      object-fit: cover;
      border-radius: 8px;
    }
    .card h3 {
      margin: 10px 0 5px;
    }
    .price {
      font-size: 16px;
      margin-bottom: 10px;
    }
    .controls {
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .controls button {
      background: red;
      color: #fff;
      border: none;
      padding: 5px 10px;
      margin: 0 5px;
      cursor: pointer;
      border-radius: 5px;
      font-size: 16px;
    }
    .cart {
      margin: 20px auto;
      padding: 20px;
      background: #111;
      border: 1px solid red;
      border-radius: 10px;
      width: 90%;
      max-width: 600px;
      box-shadow: 0 0 15px red;
    }
    .cart h2 {
      margin-bottom: 15px;
    }
    .cart-items {
      text-align: left;
      margin-bottom: 15px;
    }
    .cart-items p {
      margin: 5px 0;
    }
    .total {
      font-weight: bold;
      margin: 10px 0;
    }
    .finalizar-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: red;
      color: white;
      padding: 15px 25px;
      border: none;
      border-radius: 30px;
      font-size: 18px;
      cursor: pointer;
      animation: pulse 1.5s infinite;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    /* Pop-up */
    .popup {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.8);
      justify-content: center;
      align-items: center;
    }
    .popup-content {
      background: #222;
      padding: 20px;
      border-radius: 10px;
      text-align: left;
      width: 90%;
      max-width: 400px;
    }
    .popup-content h3 {
      margin-top: 0;
      color: red;
    }
    .popup-content label {
      display: block;
      margin-top: 10px;
    }
    .popup-content input, .popup-content select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border-radius: 5px;
      border: none;
    }
    .popup-content button {
      margin-top: 15px;
      width: 100%;
      background: red;
      color: #fff;
      border: none;
      padding: 10px;
      border-radius: 5px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h2>Entradas</h2>
  <div class="menu">
    <div class="card">
      <img src="https://via.placeholder.com/120" alt="Temaki">
      <h3>Temaki</h3>
      <p class="price">R$ 20,00</p>
      <div class="controls">
        <button onclick="updateItem('Temaki', -1, 20)">-</button>
        <span id="Temaki-count">0</span>
        <button onclick="updateItem('Temaki', 1, 20)">+</button>
      </div>
    </div>
    <div class="card">
      <img src="https://via.placeholder.com/120" alt="Sushi Especial">
      <h3>Sushi Especial</h3>
      <p class="price">R$ 25,00</p>
      <div class="controls">
        <button onclick="updateItem('Sushi Especial', -1, 25)">-</button>
        <span id="Sushi Especial-count">0</span>
        <button onclick="updateItem('Sushi Especial', 1, 25)">+</button>
      </div>
    </div>
  </div>

  <div class="cart">
    <h2>ðŸ›’ Seu Pedido</h2>
    <div class="cart-items" id="cart-items"></div>
    <p class="total" id="cart-total">Total: R$ 0,00</p>
  </div>

  <button class="finalizar-btn" onclick="abrirPopup()">Finalizar Pedido</button>

  <!-- Pop-up -->
  <div class="popup" id="popup">
    <div class="popup-content">
      <h3>Finalize seu pedido</h3>
      <label>Nome:</label>
      <input type="text" id="nome" required>
      <label>Forma de pagamento:</label>
      <select id="pagamento">
        <option value="Dinheiro">Dinheiro</option>
        <option value="Pix">Pix</option>
        <option value="CartÃ£o">CartÃ£o</option>
      </select>
      <label>Bairro:</label>
      <select id="bairro">
        <option value="AerolÃ¢ndia">AerolÃ¢ndia (R$10,00)</option>
        <option value="Altamira">Altamira (R$20,00)</option>
        <option value="Boma">Boma (R$10,00)</option>
      </select>
      <button onclick="finalizarPedido()">Enviar Pedido</button>
    </div>
  </div>

  <script>
    let cart = {};
    let delivery = 0;

    function updateItem(item, qty, price) {
      if (!cart[item]) cart[item] = { qty: 0, price: price };
      cart[item].qty += qty;
      if (cart[item].qty < 0) cart[item].qty = 0;
      document.getElementById(item + '-count').textContent = cart[item].qty;
      renderCart();
    }

    function renderCart() {
      let cartItems = document.getElementById('cart-items');
      cartItems.innerHTML = '';
      let total = 0;
      for (let item in cart) {
        if (cart[item].qty > 0) {
          let subtotal = cart[item].qty * cart[item].price;
          total += subtotal;
          cartItems.innerHTML += `<p>${item} (${cart[item].qty} Ã— R$${cart[item].price},00) = R$${subtotal},00</p>`;
        }
      }
      if (delivery > 0) {
        total += delivery;
        cartItems.innerHTML += `<p>Entrega = R$${delivery},00</p>`;
      }
      document.getElementById('cart-total').textContent = "Total: R$ " + total + ",00";
    }

    function abrirPopup() {
      document.getElementById('popup').style.display = 'flex';
    }

    function finalizarPedido() {
      let nome = document.getElementById('nome').value;
      let pagamento = document.getElementById('pagamento').value;
      let bairro = document.getElementById('bairro').value;

      if (!nome) {
        alert("Por favor, preencha seu nome.");
        return;
      }

      // Definir valor da entrega
      if (bairro === "AerolÃ¢ndia") delivery = 10;
      else if (bairro === "Altamira") delivery = 20;
      else if (bairro === "Boma") delivery = 10;

      renderCart();

      let resumo = `Pedido de ${nome}%0AForma de pagamento: ${pagamento}%0ABairro: ${bairro}%0A%0AItens:%0A`;
      for (let item in cart) {
        if (cart[item].qty > 0) {
          resumo += `${cart[item].qty} Ã— ${item} = R$${cart[item].qty * cart[item].price},00%0A`;
        }
      }
      resumo += `Entrega: R$${delivery},00%0A`;
      resumo += document.getElementById('cart-total').textContent;

      let url = `https://wa.me/5511976039654?text=${resumo}`;
      window.open(url, "_blank");
    }
  </script>
</body>
</html>
